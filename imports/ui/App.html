<body>
  {{> mainContainer}}
</body>

<template name="mainContainer">
  <div class="app">
    <header>
      <div class="app-bar">
        <div class="app-header">
          <h1>Live chat {{incompleteCount}}</h1>
        </div>
      </div>
    </header>

    <div class="main">
      {{#if isUserLogged}}
      <div class="user">{{getUser.username}} ðŸšª</div>
      {{> form }} {{#if isLoading}}
      <div class="loading">loading...</div>
      {{/if}}

      <ul class="messages">
        {{#each messages}} {{> message}} {{/each}}
      </ul>
      {{else}} {{#if registered}} {{> login }} {{else}} {{>signup}} {{/if}}
      {{/if}}
    </div>
  </div>
</template>

<template name="form">
  <form class="message-form">
    <input type="text" name="text" placeholder="Type to send something" />
    <button type="submit">Post</button>
  </form>
</template>
